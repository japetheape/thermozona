# Loads default set of integrations. Do not remove.
default_config:

# Load frontend themes from the themes folder
frontend:
  themes: !include_dir_merge_named themes

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

logger:
  default: info
  logs:
    custom_components.thermozona: debug

# Test temperatuur sensoren
template:
  - sensor:
      - name: "Test Woonkamer Temperatuur"
        state: "20.0"
        unit_of_measurement: "°C"
        device_class: temperature
        unique_id: test_woonkamer_temperatuur

      - name: "Test Keuken Temperatuur"
        state: "19.5"
        unit_of_measurement: "°C"
        device_class: temperature
        unique_id: test_keuken_temperatuur
        
      - name: "Test Buiten Temperatuur"
        state: "10.0"
        unit_of_measurement: "°C"
        device_class: temperature
        unique_id: test_buiten_temperatuur

# Test switches voor de verdelers en warmtepomp
input_boolean:
  verdeler_1_groep_1:
    name: "Verdeler 1 Groep 1"
    icon: mdi:radiator
  
  verdeler_1_groep_2:
    name: "Verdeler 1 Groep 2"
    icon: mdi:radiator
  
  verdeler_1_groep_3:
    name: "Verdeler 1 Groep 3"
    icon: mdi:radiator
  
  verdeler_1_groep_4:
    name: "Verdeler 1 Groep 4"
    icon: mdi:radiator

# Thermozona configuratie
# Safety notice: Use at your own risk; ensure code-compliant installation/wiring. Authors/contributors are not liable for damage, injury, or fire.
thermozona:
  outside_temp_sensor: sensor.test_buiten_temperatuur
  # flow_mode: simple  # Optional override; auto-selects pro_supervisor when pro.license_key is valid
  heating_base_offset: 3.0
  cooling_base_offset: 2.5
  flow_curve_offset: 0.0  # Optional UI baseline; UI tweaks reset on reload
  weather_slope_heat: 0.25
  weather_slope_cool: 0.20
  simple_flow:
    write_deadband_c: 0.5
    write_min_interval_minutes: 15
  pro:  # Optional, only used with flow_mode: pro_supervisor and valid token
    # license_key: eyJhbGciOi...<signed_pro_token>
    flow:
      kp: 1.0
      use_integral: false
      ti_minutes: 180
      i_max: 1.5
      error_norm_max: 2.0
      duty_ema_minutes: 20
      error_weight: 0.6
      duty_weight: 0.4
      slow_mix_weight: 0.8
      fast_mix_weight: 0.2
      fast_error_deadband_c: 0.4
      fast_boost_gain: 1.2
      fast_boost_cap_c: 1.2
      slew_up_c_per_5m: 0.3
      slew_down_c_per_5m: 0.2
      write_deadband_c: 0.3
      write_min_interval_minutes: 10
      preheat_enabled: false
      preheat_forecast_sensor: sensor.weather_outdoor_2h
      preheat_solar_sensor: sensor.weather_solar_irradiance_2h
      preheat_gain: 0.35
      preheat_solar_gain_per_w_m2: 0.0
      preheat_cap_c: 1.2
      preheat_min_slow_di: 0.25
  zones:
    woonkamer:
      circuits:
        - input_boolean.verdeler_1_groep_1
        - input_boolean.verdeler_1_groep_2
        - input_boolean.verdeler_1_groep_3
      temp_sensor: sensor.test_woonkamer_temperatuur
      hysteresis: 0.2
      zone_response: slow
      zone_flow_weight: 1.0
      zone_solar_weight: 1.4

    keuken:
      circuits:
        - input_boolean.verdeler_1_groep_4
      temp_sensor: sensor.test_keuken_temperatuur
      hysteresis: 0.25
      zone_response: slow
      zone_flow_weight: 1.0
      zone_solar_weight: 0.2
